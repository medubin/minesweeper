{"version":3,"sources":["webpack/bootstrap 9f83e2f6cc41fbacf829","./js/main.js","./js/view.js","./js/minesweeper.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,EAAC;;;;;;;ACRD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,mBAAmB;AACpC;AACA,oBAAmB,mBAAmB;AACtC;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;;;;;;;;;AASA;;;;;;;AChFA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,cAAc;AAC/B;AACA,oBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,cAAc;AAC/B,oBAAmB,cAAc;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAkB,QAAQ;AAC1B,qBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA0B,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mBAAkB,QAAQ;AAC1B,qBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9f83e2f6cc41fbacf829\n **/","var View = require('./view');\nvar Game = require('./minesweeper');\n\n$(function () {\n  var $board = $(\"#board\");\n  var game = new Game(20, 50);\n  new View($board, game);\n\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main.js\n ** module id = 0\n ** module chunks = 0\n **/","var View = function ($el, game) {\n  this.game = game;\n  this.$el = $el;\n  this.setupBoard();\n  this.clickSquare();\n};\n\nView.prototype.setupBoard = function() {\n  for (var x = 0; x < this.game.dim; x++) {\n    var $row = $('<ul>').addClass('row');\n    for (var y = 0; y < this.game.dim; y++) {\n      var $square = $('<li>').addClass('square').data('pos', [x, y]);\n\n\n      $row.append($square);\n    }\n    this.$el.append($row);\n  }\n};\n\n\nView.prototype.clickSquare = function () {\n  this.$el.on(\"click\", \".square\", this.makeMove.bind(this));\n};\n\nView.prototype.makeMove = function ($square) {\n  var pos = $($square.target).data().pos;\n  if (this.game.checkSquare(pos) === -1) {\n    $square.target.className = 'bomb';\n  } else {\n    this.uncoverSquare($square.target, pos);\n    if (this.game.checkSquare(pos) === 0) this.spread(pos);\n  }\n};\n\nView.prototype.uncoverSquare = function ($square, pos) {\n  $($square).text(this.game.checkSquare(pos));\n  $square.className = 'safe';\n\n};\n\nView.prototype.spread = function (pos) {\n  var seen = new Set();\n  seen.add(pos.toString());\n  var squares = this.game._listOfNeighbors(pos);\n  function findCurrentSquare(idx, el) {\n    var elPos = $(el).data('pos');\n    return (elPos[0] === currentPos[0] && elPos[1] === currentPos[1]);\n  }\n\n  while (squares.length > 0) {\n    var currentPos = squares.pop();\n    var currentSquare = $('li').filter(findCurrentSquare);\n    // console.log(seen.has(currentSquare));\n    if (this.game.checkSquare(currentPos) === 0 ) {\n      var neighbors = this.game._listOfNeighbors(currentPos);\n      for (var i = 0; i < neighbors.length; i++) {\n        if (!seen.has(neighbors[i].toString())) {\n          squares.push(neighbors[i]);\n        }\n        seen.add(neighbors[i].toString());\n      }\n      // console.log(seen);\n      // squares = squares.concat(this.game._listOfNeighbors(currentPos));\n\n    }\n    this.uncoverSquare(currentSquare[0], currentPos);\n\n  }\n\n\n};\n\n\n\n\n\n\n\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/view.js\n ** module id = 1\n ** module chunks = 0\n **/","function MineSweeper (dim, mines) {\n  this.dim = dim;\n  this.mines = mines;\n  this.board = this.populateBoard();\n  this.countBombs();\n}\n\nMineSweeper.prototype._shuffleMines = function () {\n  var mines = [];\n  for (var i = 0; i < (this.dim * this.dim); i++) {\n    mines.push( i < this.mines ? -1 : 0);\n  }\n  this._shuffleBoard(mines);\n  return mines;\n};\n\nMineSweeper.prototype.populateBoard = function () {\n  var mines = this._shuffleMines();\n  var board = [];\n  for (var k = 0; k < this.dim; k++) {\n    var row = [];\n    for (var l = 0; l < this.dim; l++) {\n      row.push(mines[k * this.dim + l]);\n    }\n    board.push(row);\n    row = [];\n  }\n  return board;\n};\n\nMineSweeper.prototype.countBombs = function () {\n  for (var i = 0; i < this.dim; i++) {\n    for (var j = 0; j < this.dim; j++) {\n      if (this.board[i][j] !== -1) this.board[i][j] = this._countBombNeighbors(i,j);\n    }\n  }\n};\n\nMineSweeper.prototype._countBombNeighbors = function (x,y) {\n  var bombs = 0;\n  for (var i = -1; i <= 1; i++) {\n    for (var j = -1; j <= 1; j++) {\n      if (x + i >= 0 && (x + i) < this.dim && y + j >= 0 && y + j < this.dim) {\n        if (this.board[x + i][y + j] === - 1) bombs += 1;\n      }\n    }\n  }\n  return bombs;\n};\n\nMineSweeper.prototype._shuffleBoard = function (board) {\n  var j, x, i;\n    for (i = board.length; i; i -= 1) {\n        j = Math.floor(Math.random() * i);\n        x = board[i - 1];\n        board[i - 1] = board[j];\n        board[j] = x;\n    }\n};\n\nMineSweeper.prototype.checkSquare = function (pos) {\n  return this.board[pos[0]][pos[1]];\n};\n\nMineSweeper.prototype._listOfNeighbors = function (pos) {\n  var neighbors = [];\n  for (var i = -1; i <= 1; i++) {\n    for (var j = -1; j <= 1; j++) {\n      if (this._validPos([pos[0] + i, pos[1] + j])) {\n        if (i !== 0 || j !== 0) neighbors.push ([pos[0] + i, pos[1] + j]);\n      }\n    }\n  }\n  return neighbors;\n};\n\nMineSweeper.prototype._validPos = function (pos) {\n  return pos[0] >= 0 && pos[0] < this.dim && pos[1] >= 0 && pos[1] < this.dim;\n};\n\n\nvar minesweep = new MineSweeper(10, 10);\n// console.log(minesweep.board);\n// console.log(minesweep._countBombNeighbors(5,5));\n\nmodule.exports = MineSweeper;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/minesweeper.js\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}